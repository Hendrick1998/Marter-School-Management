{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Villa Myo\\\\Desktop\\\\msm-frontend\\\\MSM\\\\msm\\\\src\\\\components\\\\admin\\\\AdminTeacher\\\\adminaddteacher.jsx\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport { findDOMNode } from 'react-dom';\nimport '../AdminCss/adminaddteacher.css';\nimport 'jquery-ui-bundle';\nimport 'jquery-ui-bundle/jquery-ui.css';\nimport Navbar from '../../SideNavMenu';\n\nclass AdminAddTeacher extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOnChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      const teacherObj = this.state.teacher;\n      teacherObj[name] = value;\n      this.setState({\n        teacher: teacherObj\n      }, () => {\n        console.log(this.state.teacher);\n      });\n    };\n\n    this.handleFileChange = event => {\n      const file = event.target.files[0];\n      const teacherObj = this.state.teacher;\n      teacherObj.imageURL = file;\n      this.setState({\n        teacher: teacherObj\n      }, () => {\n        console.log(this.state.teacher);\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const teacherObj = this.state.teacher;\n      let subject_index = 0;\n      let role_index = 0;\n      const arr_sub = this.state.subjects;\n      const arr_role = this.state.userRoles;\n\n      for (let i = 0; i < arr_sub.length; i++) {\n        if (arr_sub[i].subject_name === teacherObj.subject) {\n          subject_index = i + 1;\n          teacherObj.subject = subject_index;\n        }\n      }\n\n      for (let i = 0; i < arr_role.length; i++) {\n        if (arr_role[i].ur_role === teacherObj.role) {\n          role_index = i + 1;\n          teacherObj.role = role_index;\n        }\n      }\n\n      console.log('Submit', teacherObj);\n      var formData = new FormData();\n      formData.append('data', JSON.stringify(teacherObj));\n      formData.append('uploadTeacherFile', teacherObj.imageURL);\n      const addTeacherURL = 'http://localhost:8000/users/addUser/teacher';\n      fetch(addTeacherURL, {\n        method: 'POST',\n        body: formData\n      }).then(res => {\n        if (res.ok) return res.json();\n      }).then(data => {\n        console.log(data);\n      }).catch(err => {\n        console.log('Error', err);\n      });\n    };\n\n    this.state = {\n      subjects: [],\n      userRoles: [],\n      teacher: {\n        username: '',\n        phone: '',\n        password: '',\n        subject: '',\n        address: '',\n        dateofbirth: '',\n        role: '',\n        created_by: 'Admin',\n        updated_by: 'Admin',\n        imageURL: {}\n      }\n    };\n  }\n\n  componentDidMount() {\n    $(function () {\n      $(\".datepicker\").datepicker();\n    });\n    $(\"#transport\").selectmenu({\n      width: 200\n    });\n\n    function readURL(input) {\n      if (input.files && input.files[0]) {\n        var reader = new FileReader();\n\n        reader.onload = function (e) {\n          $('#profile-img-tag').attr('src', e.target.result);\n        };\n\n        reader.readAsDataURL(input.files[0]);\n      }\n    }\n\n    $('#profile-img').change(function () {\n      readURL(this);\n    }); //Get Add Subjects & Role\n\n    const subject_url = 'http://localhost:8000/subjects/getAllSubject';\n    fetch(subject_url).then(response => {\n      return response.json();\n    }).then(data => {\n      //Set data to state\n      this.setState({\n        subjects: data\n      }, () => {\n        console.log(this.state.subjects);\n      });\n    });\n    const user_role_url = 'http://localhost:8000/userRoles/getAllUserRole';\n    fetch(user_role_url).then(response => {\n      return response.json();\n    }).then(data => {\n      //Set data to state\n      this.setState({\n        userRoles: data\n      }, () => {\n        console.log(this.state.userRoles);\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xl-8 col-lg-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Profile Infromation\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xl-6 col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Teacher Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"username\",\n      onChange: this.handleOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-xl-6 col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"password\",\n      onChange: this.handleOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xl-12 col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"Subject\"), React.createElement(\"select\", {\n      name: \"subject\",\n      className: \"form-control\",\n      onChange: this.handleOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, this.state.subjects.map(item => {\n      return React.createElement(\"option\", {\n        value: item.subject_name,\n        key: item.subject_id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, item.subject_name);\n    })))))), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xl-4 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, \"Date of Birth\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control datepicker\",\n      name: \"dateofbirth\",\n      onChange: this.handleOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-xl-4 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"Phone Number\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"phone\",\n      onChange: this.handleOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-xl-4 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, \"Address\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"address\",\n      onChange: this.handleOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xl-6 col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, \"Role\"), React.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"role\",\n      onChange: this.handleOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, this.state.userRoles.map(item => {\n      return React.createElement(\"option\", {\n        value: item.ur_role,\n        key: item.ur_id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, item.ur_role);\n    })))), React.createElement(\"div\", {\n      className: \"col-xl-4 col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"speed\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, \"Transport\"), React.createElement(\"select\", {\n      name: \"transport\",\n      id: \"transport\",\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, \"No\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, \"Yes\"), React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, \"None\"))))), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-primary col-xl-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, \"Save\"))))))), React.createElement(\"div\", {\n      className: \"col-xl-4 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \" \",\n      id: \"profile-img-tag\",\n      width: \"300px\",\n      height: \"200px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"file\",\n      name: \"file\",\n      placeholder: \"Choose Photo\",\n      onChange: this.handleFileChange,\n      id: \"profile-img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default AdminAddTeacher;","map":{"version":3,"sources":["C:\\Users\\Villa Myo\\Desktop\\msm-frontend\\MSM\\msm\\src\\components\\admin\\AdminTeacher\\adminaddteacher.jsx"],"names":["React","Component","$","findDOMNode","Navbar","AdminAddTeacher","constructor","props","handleOnChange","event","target","name","value","teacherObj","state","teacher","setState","console","log","handleFileChange","file","files","imageURL","handleSubmit","preventDefault","subject_index","role_index","arr_sub","subjects","arr_role","userRoles","i","length","subject_name","subject","ur_role","role","formData","FormData","append","JSON","stringify","addTeacherURL","fetch","method","body","then","res","ok","json","data","catch","err","username","phone","password","address","dateofbirth","created_by","updated_by","componentDidMount","datepicker","selectmenu","width","readURL","input","reader","FileReader","onload","e","attr","result","readAsDataURL","change","subject_url","response","user_role_url","render","map","item","subject_id","ur_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\nimport { findDOMNode } from 'react-dom';\r\nimport '../AdminCss/adminaddteacher.css';\r\nimport 'jquery-ui-bundle';\r\nimport 'jquery-ui-bundle/jquery-ui.css';\r\nimport Navbar from '../../SideNavMenu';\r\n\r\n\r\n\r\n\r\nclass AdminAddTeacher extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      subjects : [],\r\n      userRoles : [],\r\n      teacher : {\r\n        username : '',\r\n        phone : '',\r\n        password : '',\r\n        subject : '',\r\n        address : '',\r\n        dateofbirth : '',\r\n        role : '',\r\n        created_by: 'Admin',\r\n        updated_by: 'Admin',\r\n        imageURL : {}\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    $(function () {\r\n      $(\".datepicker\").datepicker();\r\n    });\r\n\r\n    $(\"#transport\").selectmenu({\r\n      width: 200,\r\n    });\r\n\r\n\r\n    function readURL(input) {\r\n      if (input.files && input.files[0]) {\r\n        var reader = new FileReader();\r\n\r\n        reader.onload = function (e) {\r\n          $('#profile-img-tag').attr('src', e.target.result);\r\n        }\r\n\r\n        reader.readAsDataURL(input.files[0]);\r\n      }\r\n    }\r\n    $('#profile-img').change(function () {\r\n      readURL(this);\r\n    });\r\n\r\n    //Get Add Subjects & Role\r\n    const subject_url = 'http://localhost:8000/subjects/getAllSubject';\r\n    fetch(subject_url)\r\n      .then((response)=>{\r\n        return response.json();\r\n      })\r\n      .then((data)=>{\r\n        //Set data to state\r\n        this.setState({\r\n          subjects : data\r\n        },()=>{\r\n          console.log(this.state.subjects);\r\n        })\r\n      })\r\n\r\n    const user_role_url = 'http://localhost:8000/userRoles/getAllUserRole';\r\n    fetch(user_role_url)\r\n      .then((response)=>{\r\n        return response.json();\r\n      })\r\n      .then((data)=>{\r\n        //Set data to state\r\n        this.setState({\r\n          userRoles : data\r\n        },()=>{\r\n          console.log(this.state.userRoles);\r\n        })\r\n      })\r\n  }\r\n\r\n  handleOnChange=(event)=>{\r\n    const {name,value} = event.target;\r\n    const teacherObj = this.state.teacher;\r\n    teacherObj[name] = value;\r\n    this.setState({\r\n      teacher:teacherObj\r\n    },()=>{\r\n      console.log(this.state.teacher);\r\n    })\r\n  }\r\n\r\n  handleFileChange=(event)=>{\r\n    const file = event.target.files[0];\r\n    const teacherObj = this.state.teacher;\r\n    teacherObj.imageURL = file;\r\n    this.setState({\r\n      teacher:teacherObj\r\n    },()=>{\r\n      console.log(this.state.teacher);\r\n    })\r\n  }\r\n\r\n  handleSubmit=(event)=>{\r\n    event.preventDefault();\r\n    const teacherObj = this.state.teacher;\r\n    let subject_index = 0;\r\n    let role_index = 0;\r\n    const arr_sub = this.state.subjects;\r\n    const arr_role = this.state.userRoles;\r\n    for(let i=0;i<arr_sub.length;i++){\r\n      if(arr_sub[i].subject_name === teacherObj.subject){\r\n        subject_index = i+1;\r\n        teacherObj.subject = subject_index;\r\n      }\r\n    }\r\n    for(let i=0;i<arr_role.length;i++){\r\n      if(arr_role[i].ur_role === teacherObj.role){\r\n        role_index = i+1;\r\n        teacherObj.role = role_index;\r\n      }\r\n    }\r\n\r\n    console.log('Submit',teacherObj);\r\n\r\n    var formData = new FormData();\r\n\r\n    formData.append('data',JSON.stringify(teacherObj));\r\n    formData.append('uploadTeacherFile',teacherObj.imageURL);\r\n\r\n    const addTeacherURL = 'http://localhost:8000/users/addUser/teacher';\r\n    fetch(addTeacherURL,{\r\n      method:'POST',\r\n      body:formData\r\n    }).then(res=>{\r\n      if(res.ok) return res.json()\r\n    }).then(data=>{\r\n      console.log(data)\r\n    })\r\n    .catch((err)=>{\r\n      console.log('Error',err);\r\n    })\r\n      \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div >\r\n        <Navbar />\r\n        <div className='container'>\r\n          <div className=\"row\">\r\n            <div className=\"col-xl-8 col-lg-8\" >\r\n              <div className='card'>\r\n                <div className='card-body'>\r\n                  <h5 className='card-title'>Profile Infromation</h5>\r\n                  <form onSubmit={this.handleSubmit}>\r\n                    {/* <div className='container'>\r\n                      <div className='row'>\r\n                        <div className='col-xl-6 col-lg-6'>\r\n                          <div className='form-group'>\r\n                            <label>Register Number</label>\r\n                            <input type='text' className='form-control'></input>\r\n                          </div>\r\n                        </div>\r\n                        <div className='col-xl-6 col-lg-6'>\r\n                          <div className='form-group'>\r\n                            <label>Register Date</label>\r\n                            <input type='text' className='form-control datepicker'></input>\r\n                          </div>\r\n                        </div>\r\n\r\n                      </div>\r\n                    </div> */}\r\n                    <div className='container'>\r\n                      <div className='row'>\r\n                        <div className='col-xl-6 col-lg-6'>\r\n                          <div className='form-group'>\r\n                            <label>Teacher Name</label>\r\n                            <input \r\n                              type='text' \r\n                              className='form-control'\r\n                              name='username'\r\n                              onChange={this.handleOnChange}\r\n                              ></input>\r\n                          </div>\r\n                        </div>\r\n                        <div className='col-xl-6 col-lg-6'>\r\n                          <div className='form-group'>\r\n                            <label>Password</label>\r\n                            <input \r\n                              type='text' \r\n                              className='form-control'\r\n                              name='password'\r\n                              onChange={this.handleOnChange}\r\n                              ></input>\r\n                          </div>\r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n                    <div className='container'>\r\n                      <div className='row'>\r\n                        <div className='col-xl-12 col-lg-12'>\r\n                          <div className='form-group'>\r\n                            <label>Subject</label>\r\n                            <select \r\n                              name='subject'\r\n                              className='form-control'\r\n                              onChange={this.handleOnChange}>\r\n                              {\r\n                                this.state.subjects.map(item=>{\r\n                                  return <option value={item.subject_name} key={item.subject_id}>\r\n                                    {item.subject_name}\r\n                                  </option>\r\n                                })\r\n                              }\r\n                            </select>\r\n                          </div>\r\n                        </div>\r\n                        {/* <div className='col-xl-6 col-lg-6'>\r\n                          <div className='form-group'>\r\n                            <label>Section</label>\r\n                            <input type='text' className='form-control'></input>\r\n                          </div>\r\n                        </div> */}\r\n\r\n                      </div>\r\n                    </div>\r\n                    <div className='container'>\r\n                      <div className='row'>\r\n                        <div className='col-xl-4 col-lg-4'>\r\n                          <div className='form-group'>\r\n                            <label>Date of Birth</label>\r\n                            <input \r\n                              type='text' \r\n                              className='form-control datepicker'\r\n                              name='dateofbirth'\r\n                              onChange={this.handleOnChange}\r\n                              ></input>\r\n                          </div>\r\n                        </div>\r\n                        <div className='col-xl-4 col-lg-4'>\r\n                          <div className='form-group'>\r\n                            <label>Phone Number</label>\r\n                            <input \r\n                              type='text' \r\n                              className='form-control'\r\n                              name='phone'\r\n                              onChange={this.handleOnChange}\r\n                              ></input>\r\n                          </div>\r\n                        </div>\r\n                        <div className='col-xl-4 col-lg-4'>\r\n                          <div className='form-group'>\r\n                            <label>Address</label>\r\n                            <input \r\n                              type='text' \r\n                              className='form-control'\r\n                              name='address'\r\n                              onChange={this.handleOnChange}\r\n                              ></input>\r\n                          </div>\r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n                    <div className='container'>\r\n                      <div className='row'>\r\n                        <div className='col-xl-6 col-lg-6'>\r\n                          <div className='form-group'>\r\n                            <label>Role</label>\r\n                            <select className='form-control' name='role' onChange={this.handleOnChange}>\r\n                              {\r\n                                this.state.userRoles.map(item=>{\r\n                                  return <option value={item.ur_role} key={item.ur_id}>\r\n                                    {item.ur_role}\r\n                                  </option>\r\n                                })\r\n                              }\r\n                            </select>\r\n                          </div>\r\n                        </div>\r\n                        {/* <div className='col-xl-4 col-lg-4'>\r\n                          <div className='form-group'>\r\n                            <label>Student ID</label>\r\n                            <input type='text' className='form-control'></input>\r\n                          </div>\r\n                      </div>*/}\r\n                        <div className='col-xl-4 col-lg-6'>\r\n\r\n                          <label for=\"speed\">Transport</label>\r\n                          <select name=\"transport\" id=\"transport\" className='form-control'>\r\n                            <option>No</option>\r\n                            <option>Yes</option>\r\n                            <option disabled selected>None</option>\r\n                          </select>\r\n\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className='container'>\r\n                      <div className='row'>\r\n\r\n                        <button className='btn btn-primary col-xl-12'>Save</button>\r\n\r\n                      </div>\r\n                    </div>\r\n\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className='col-xl-4 col-lg-4'>\r\n\r\n\r\n              <img src=\" \" id=\"profile-img-tag\" width='300px' height='200px'></img>\r\n\r\n              <input \r\n                type='file' \r\n                name='file' \r\n                placeholder='Choose Photo' \r\n                onChange={this.handleFileChange}\r\n                id='profile-img'></input>\r\n\r\n            </div>\r\n          </div>\r\n\r\n\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AdminAddTeacher;"]},"metadata":{},"sourceType":"module"}